(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f64068d"],{"46cc":function(e,t,n){var a=n("ea90"),s=n("3ee6"),r=n("76c6"),i=n("964e"),l=n("7960"),o=n("4760"),c=s.Array,u=r("JSON","stringify"),g=l(/./.exec),p=l("".charAt),d=l("".charCodeAt),m=l("".replace),f=l(1..toString),b=/[\uD800-\uDFFF]/g,h=/^[\uD800-\uDBFF]$/,v=/^[\uDC00-\uDFFF]$/,w=function(e,t,n){var a=p(n,t-1),s=p(n,t+1);return g(h,e)&&!g(v,s)||g(v,e)&&!g(h,a)?"\\u"+f(d(e,0),16):e},y=o((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&a({target:"JSON",stat:!0,forced:y},{stringify:function(e,t,n){for(var a=0,s=arguments.length,r=c(s);a<s;a++)r[a]=arguments[a];var l=i(u,null,r);return"string"==typeof l?m(l,b,w):l}})},"5c9c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sign"},[n("img",{staticClass:"bg",attrs:{src:e.imgHome("cargo.jpg")}}),n("div",{staticClass:"sign-container"},[n("div",{staticClass:"login-form"},[n("div",{staticClass:"login-title"},[e._v("注册")]),n("el-form",{ref:"signupForm",attrs:{model:e.signup,rules:e.signupRules}},[n("el-form-item",{attrs:{label:"所在通道",prop:"channel",placeholder:"myc"}},[n("el-input",{attrs:{placeholder:"请输入用户所在通道"},model:{value:e.signup.channel,callback:function(t){e.$set(e.signup,"channel",t)},expression:"signup.channel"}})],1),n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{staticClass:"sign-input",attrs:{placeholder:"请输入用户名"},model:{value:e.signup.name,callback:function(t){e.$set(e.signup,"name",t)},expression:"signup.name"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{staticClass:"sign-input",attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.signup.password,callback:function(t){e.$set(e.signup,"password",t)},expression:"signup.password"}})],1),n("el-form-item",{staticStyle:{"text-align":"right"},attrs:{label:"用户角色",prop:"role"}},[n("el-radio-group",{model:{value:e.signup.role,callback:function(t){e.$set(e.signup,"role",t)},expression:"signup.role"}},e._l(e.userRoles,(function(t){return n("el-radio",{key:t.name,attrs:{label:t.name}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),n("el-form-item",[n("el-button",{staticClass:"custom-btn login-btn",staticStyle:{width:"100%"},attrs:{disabled:!e.agree,type:"primary",loading:e.loading},on:{click:e.onSignupSubmit}},[e._v(" 注册 ")])],1)],1),n("el-checkbox",{staticClass:"check",model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}},[e._v("我自愿承担使用本系统过程中可能出现的风险")]),n("div",{staticClass:"register-link"},[n("router-link",{attrs:{to:{name:"login"}}},[e._v(" 前往登录 ")])],1)],1)])])},s=[],r=(n("0721"),n("46cc"),n("bdf9"),n("7fa7"),n("042e"),n("c189"),n("3435"),n("73f5")),i=n("c24f"),l={name:"SignUp",mixins:[Object(r["a"])("home/")],components:{},data:function(){return{signup:{name:"",password:"",role:"user",channel:""},signupRules:{name:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],role:[{required:!0,trigger:"blur",message:"请勾选用户角色"}],channel:[{required:!0,trigger:"blur",message:"请输入用户所在通道"}]},userRoles:[{label:"普通用户",name:"user"},{label:"机构用户",name:"org"}],agree:!1,loading:!1}},methods:{onSignupSubmit:function(){var e=this;this.$refs.signupForm.validate((function(t){t&&(e.loading=!0,i["a"].signup(e.signup).then((function(t){e.$message({message:"注册成功",type:"success"}),t.certificate&&e.download(JSON.stringify(t.certificate)),e.$router.push({name:"login",query:{name:e.signup.name}})})).catch((function(t){e.$message({message:t,type:"error"})})).finally((function(){e.loading=!1})))}))},download:function(e){console.log(e);var t="certificate.cert",n=document.createElement("a"),a=new Blob([e],{type:"text/plain"});n.href=URL.createObjectURL(a),n.download=t,n.click()}}},o=l,c=(n("a822"),n("52e0")),u=Object(c["a"])(o,a,s,!1,null,"4347a0ae",null);t["default"]=u.exports},"9d6c":function(e,t,n){},a822:function(e,t,n){"use strict";n("9d6c")}}]);
//# sourceMappingURL=chunk-6f64068d.a7b81f82.js.map