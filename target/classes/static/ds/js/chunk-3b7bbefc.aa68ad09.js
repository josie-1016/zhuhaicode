(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b7bbefc"],{"14d9":function(e,t,r){"use strict";var n=r("23e7"),a=r("7b0b"),s=r("07fa"),i=r("3a34"),l=r("3511"),o=r("d039"),c=o((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},p=c||!u();n({target:"Array",proto:!0,arity:1,forced:p},{push:function(e){var t=a(this),r=s(t),n=arguments.length;l(r+n);for(var o=0;o<n;o++)t[r]=arguments[o],r++;return i(t,r),r}})},3511:function(e,t){var r=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw r("Maximum allowed index exceeded");return e}},"3a34":function(e,t,r){"use strict";var n=r("83ab"),a=r("e8b5"),s=TypeError,i=Object.getOwnPropertyDescriptor,l=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=l?function(e,t){if(a(e)&&!i(e,"length").writable)throw s("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},"5c9c":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sign"},[t("div",{staticClass:"sign-container"},[t("el-card",{staticClass:"sign-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("注册")]),t("router-link",{staticClass:"sign-card-header--button",attrs:{to:{name:"login"}}},[e._v(" 前往登录 ")])],1),t("el-form",{ref:"signupForm",attrs:{model:e.signup,rules:e.signupRules}},[t("el-form-item",{attrs:{label:"所在通道",prop:"channel"}},[t("el-input",{attrs:{placeholder:"请输入用户所在通道"},model:{value:e.signup.channel,callback:function(t){e.$set(e.signup,"channel",t)},expression:"signup.channel"}})],1),t("el-form-item",{attrs:{label:"用户名",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.signup.name,callback:function(t){e.$set(e.signup,"name",t)},expression:"signup.name"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.signup.password,callback:function(t){e.$set(e.signup,"password",t)},expression:"signup.password"}})],1),t("el-form-item",{staticStyle:{"text-align":"right"},attrs:{label:"用户角色",prop:"role"}},[t("el-radio-group",{model:{value:e.signup.role,callback:function(t){e.$set(e.signup,"role",t)},expression:"signup.role"}},e._l(e.userRoles,(function(r){return t("el-radio",{key:r.name,attrs:{label:r.name}},[e._v(" "+e._s(r.label)+" ")])})),1)],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{disabled:!e.agree,type:"primary",loading:e.loading},on:{click:e.onSignupSubmit}},[e._v(" 注册 ")])],1)],1),t("el-checkbox",{model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}},[e._v("我自愿承担使用本系统过程中可能出现的风险")])],1)],1)])},a=[],s=(r("14d9"),r("c24f")),i={name:"SignUp",components:{},data(){return{signup:{name:"",password:"",role:"user",channel:""},signupRules:{name:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],role:[{required:!0,trigger:"blur",message:"请勾选用户角色"}],channel:[{required:!0,trigger:"blur",message:"请输入用户所在通道"}]},userRoles:[{label:"普通用户",name:"user"},{label:"机构用户",name:"org"}],agree:!1,loading:!1}},methods:{onSignupSubmit(){this.$refs.signupForm.validate(e=>{e&&(this.loading=!0,s["a"].signup(this.signup).then(e=>{this.$message({message:"注册成功",type:"success"}),e.certificate&&this.download(JSON.stringify(e.certificate)),this.$router.push({name:"login",query:{name:this.signup.name}})}).catch(e=>{this.$message({message:e,type:"error"})}).finally(()=>{this.loading=!1}))})},download(e){console.log(e);const t="certificate.cert";var r=document.createElement("a"),n=new Blob([e],{type:"text/plain"});r.href=URL.createObjectURL(n),r.download=t,r.click()}}},l=i,o=(r("7cb2"),r("2877")),c=Object(o["a"])(l,n,a,!1,null,"41ebb813",null);t["default"]=c.exports},"6a45":function(e,t,r){},"7cb2":function(e,t,r){"use strict";r("6a45")},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=chunk-3b7bbefc.aa68ad09.js.map