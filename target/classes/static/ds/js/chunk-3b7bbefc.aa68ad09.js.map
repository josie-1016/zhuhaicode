{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.push.js","webpack:///./node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack:///./node_modules/core-js/internals/array-set-length.js","webpack:///./src/views/SignUp.vue","webpack:///src/views/SignUp.vue","webpack:///./src/views/SignUp.vue?d073","webpack:///./src/views/SignUp.vue?9dcf","webpack:///./src/views/SignUp.vue?7b1e","webpack:///./node_modules/core-js/internals/is-array.js"],"names":["$","toObject","lengthOfArrayLike","setArrayLength","doesNotExceedSafeInteger","fails","INCORRECT_TO_LENGTH","push","call","length","properErrorOnNonWritableLength","Object","defineProperty","writable","error","TypeError","FORCED","target","proto","arity","forced","item","O","this","len","argCount","arguments","i","$TypeError","MAX_SAFE_INTEGER","module","exports","it","DESCRIPTORS","isArray","getOwnPropertyDescriptor","SILENT_ON_NON_WRITABLE_LENGTH_SET","undefined","render","_vm","_c","_self","staticClass","attrs","slot","_v","name","ref","signup","signupRules","model","value","channel","callback","$$v","$set","expression","password","staticStyle","role","_l","userRoles","key","_s","label","agree","loading","on","onSignupSubmit","staticRenderFns","components","data","required","trigger","message","methods","$refs","signupForm","validate","valid","userApi","then","$message","type","certificate","download","JSON","stringify","$router","query","catch","err","finally","content","console","log","fileName","a","document","createElement","file","Blob","href","URL","createObjectURL","click","component","classof","Array","argument"],"mappings":"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","file":"js/chunk-3b7bbefc.aa68ad09.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 and Safari <= 15.4, FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","var $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"sign\"},[_c('div',{staticClass:\"sign-container\"},[_c('el-card',{staticClass:\"sign-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"注册\")]),_c('router-link',{staticClass:\"sign-card-header--button\",attrs:{\"to\":{ name: 'login' }}},[_vm._v(\" 前往登录 \")])],1),_c('el-form',{ref:\"signupForm\",attrs:{\"model\":_vm.signup,\"rules\":_vm.signupRules}},[_c('el-form-item',{attrs:{\"label\":\"所在通道\",\"prop\":\"channel\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户所在通道\"},model:{value:(_vm.signup.channel),callback:function ($$v) {_vm.$set(_vm.signup, \"channel\", $$v)},expression:\"signup.channel\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.signup.name),callback:function ($$v) {_vm.$set(_vm.signup, \"name\", $$v)},expression:\"signup.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},model:{value:(_vm.signup.password),callback:function ($$v) {_vm.$set(_vm.signup, \"password\", $$v)},expression:\"signup.password\"}})],1),_c('el-form-item',{staticStyle:{\"text-align\":\"right\"},attrs:{\"label\":\"用户角色\",\"prop\":\"role\"}},[_c('el-radio-group',{model:{value:(_vm.signup.role),callback:function ($$v) {_vm.$set(_vm.signup, \"role\", $$v)},expression:\"signup.role\"}},_vm._l((_vm.userRoles),function(role){return _c('el-radio',{key:role.name,attrs:{\"label\":role.name}},[_vm._v(\" \"+_vm._s(role.label)+\" \")])}),1)],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":!_vm.agree,\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.onSignupSubmit}},[_vm._v(\" 注册 \")])],1)],1),_c('el-checkbox',{model:{value:(_vm.agree),callback:function ($$v) {_vm.agree=$$v},expression:\"agree\"}},[_vm._v(\"我自愿承担使用本系统过程中可能出现的风险\")])],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"sign\">\n    <div class=\"sign-container\">\n      <el-card class=\"sign-card\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>注册</span>\n          <router-link :to=\"{ name: 'login' }\" class=\"sign-card-header--button\">\n            前往登录\n          </router-link>\n        </div>\n\n        <el-form ref=\"signupForm\" :model=\"signup\" :rules=\"signupRules\">\n          <el-form-item label=\"所在通道\" prop=\"channel\">\n            <el-input v-model=\"signup.channel\" placeholder=\"请输入用户所在通道\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"用户名\" prop=\"name\">\n            <el-input v-model=\"signup.name\" placeholder=\"请输入用户名\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"密码\" prop=\"password\">\n            <el-input v-model=\"signup.password\" placeholder=\"请输入密码\" show-password></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"用户角色\" prop=\"role\" style=\"text-align: right\">\n            <el-radio-group v-model=\"signup.role\">\n              <el-radio v-for=\"role in userRoles\" :key=\"role.name\" :label=\"role.name\">\n                {{ role.label }}\n              </el-radio>\n            </el-radio-group>\n          </el-form-item>\n\n          <el-form-item>\n            <el-button\n              :disabled=\"!agree\"\n              style=\"width: 100%\"\n              type=\"primary\"\n              @click=\"onSignupSubmit\"\n              :loading=\"loading\"\n            >\n              注册\n            </el-button>\n          </el-form-item>\n        </el-form>\n        <el-checkbox v-model=\"agree\">我自愿承担使用本系统过程中可能出现的风险</el-checkbox>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { userApi } from \"@/api/user.js\";\n\nexport default {\n  name: \"SignUp\",\n  components: {},\n\n  data() {\n    return {\n      signup: {\n        name: \"\",\n        password: \"\",\n        role: \"user\", // 用户默认角色\n        channel: \"\", // 请输入用户所在通道\n      },\n      signupRules: {\n        name: [{ required: true, trigger: \"blur\", message: \"用户名不能为空\" }],\n        password: [{ required: true, trigger: \"blur\", message: \"密码不能为空\" }],\n        role: [{ required: true, trigger: \"blur\", message: \"请勾选用户角色\" }],\n        channel: [{ required: true, trigger: \"blur\", message: \"请输入用户所在通道\" }],\n      },\n      userRoles: [\n        {\n          label: \"普通用户\",\n          name: \"user\",\n        },\n        {\n          label: \"机构用户\",\n          name: \"org\",\n        },\n      ],\n      agree: false,\n      loading: false,\n    };\n  },\n\n  methods: {\n    onSignupSubmit() {\n      this.$refs.signupForm.validate((valid) => {\n        if (!valid) return;\n        // 开始加载\n        this.loading = true;\n        userApi\n          .signup(this.signup)\n          .then((data) => {\n            this.$message({\n              message: \"注册成功\",\n              type: \"success\",\n            });\n            // 下载证书内容\n            data.certificate && this.download(JSON.stringify(data.certificate));\n            \n            this.$router.push({\n              name: \"login\",\n              query: { name: this.signup.name },\n            });\n          })\n          .catch((err) => {\n            this.$message({\n              message: err,\n              type: \"error\",\n            });\n          })\n          .finally(() => {\n            // 结束加载\n            this.loading = false;\n          });\n      });\n    },\n\n    download(content) {\n      console.log(content);\n      const fileName = 'certificate.cert'\n      var a = document.createElement(\"a\");\n      var file = new Blob([content], { type: 'text/plain' });\n      a.href = URL.createObjectURL(file);\n      a.download = fileName;\n      a.click();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.sign-container {\n  max-width: 600px;\n  margin: 60px auto;\n}\n\n.sign-card {\n  width: 400px;\n  margin: auto;\n}\n\n.sign-card-header--button {\n  float: right;\n  text-decoration: none;\n  color: #79bbff;\n}\n\n.sign-card-header--button:hover {\n  color: #409eff;\n}\n\n.tips {\n  line-height: 19px;\n  font-size: 14px;\n  color: #606266;\n  font-weight: 500;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignUp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignUp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignUp.vue?vue&type=template&id=41ebb813&scoped=true&\"\nimport script from \"./SignUp.vue?vue&type=script&lang=js&\"\nexport * from \"./SignUp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SignUp.vue?vue&type=style&index=0&id=41ebb813&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41ebb813\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignUp.vue?vue&type=style&index=0&id=41ebb813&prod&scoped=true&lang=css&\"","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n"],"sourceRoot":""}